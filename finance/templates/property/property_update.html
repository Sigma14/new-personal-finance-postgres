{% extends "index.html" %}
{% load mathfilters %}
{% block content %}
    <!-- BEGIN: Content-->
    <div class="app-content content ">
        <div class="content-overlay"></div>
        <div class="header-navbar-shadow"></div>
        <div class="content-wrapper">
            <div class="content-header row">
                <div class="content-header-left col-md-9 col-12 mb-2">
                    <div class="row breadcrumbs-top">
                        <div class="col-12">
                            <h2 class="content-header-title float-left mb-0">Update Rental Property</h2>
                            <div class="breadcrumb-wrapper">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="{% url 'home' %}">Home</a>
                                    </li>
                                    <li class="breadcrumb-item"><a href="{% url 'rental_property_list' %}">Rental Properties</a>
                                    </li>
                                    <li class="breadcrumb-item">
                                        Update Property
                                    </li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card">
                <div class="card-body">
                    <form class="form form-horizontal" action="{% url 'rental_property_update' pk=property_obj.id %}" method="post">
                        {% csrf_token %}
                        <div class="row">
                            {% if error %}
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-12">
                                        <span class="text-danger">*{{error}}</span>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Name / Address</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" id="fname-icon" class="form-control" value="{{property_obj.name}}" name="name_address" required
                                                   placeholder="Property Name / Address"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Currency</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <select class="form-control" name="currency_name" required>
                                                {% for key, value in currency_dict.items %}
                                                    {% if key == property_obj.currency %}
                                                        <option value="{{key}}" selected>{{value}}</option>
                                                    {% else %}
                                                        <option value="{{key}}">{{value}}</option>
                                                    {% endif %}
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h4 for="fname-icon">Property Purchase Price</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Best Case Scenario Purchase Price</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" id="best_case" value="{{property_obj.purchase_price_detail.best_case_price}}" class="form-control" name="best_case" required
                                                   placeholder="Best Case Purchase Price"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Likely Case Scenario Purchase Price</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" id="likely_case" value="{{property_obj.purchase_price_detail.likely_case_price}}" class="form-control" name="likely_case" required
                                                   placeholder="Likely Case Purchase Price"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Worst Case Scenario Purchase Price</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" id="worst_case" value="{{property_obj.purchase_price_detail.worst_case_price}}" class="form-control" name="worst_case" required
                                                   placeholder="Worst Case Purchase Price"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Select a Scenario Purchase Price</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <select class="form-control select_purchase_price" name="select_case" required>
                                                <option>Select a Scenario Purchase Price</option>
                                                {% for key, value in scenario_dict.items  %}
                                                    {% if key == property_obj.purchase_price_detail.selected_case %}
                                                        <option value="{{key}}" selected>{{value}}</option>
                                                    {% else %}
                                                        <option value="{{key}}">{{value}}</option>
                                                    {% endif %}
                                                {% endfor %}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Purchase Price Selected</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control purchase_price_value" value="{{property_obj.purchase_price_detail.selected_price}}" name="select_price" required
                                                   placeholder="Selected Price"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Down Payment(%)</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.purchase_price_detail.down_payment}}" name="down_payment" required
                                                   placeholder="Down Payment(%)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h4>Mortgage Details</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Interest Rate on Mortgage(%)</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.mortgage_detail.interest_rate}}" name="interest_rate" required
                                                   placeholder="Interest Rate(%)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Mortgage Amortization (Year)</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.mortgage_detail.amortization_year}}" name="amortization_year" required
                                                   placeholder="Mortgage Amortization (Year)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Mortgage Start Date</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" name="mortgage_start_date" value="{{property_obj.mortgage_detail.start_date}}" id="start_date" class="form-control flatpickr-basic" placeholder="YYYY-MM-DD">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h4>Closing Costs /Renovation cost / Start Up Costs</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Land Transfer Taxes</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.closing_cost_detail.transfer_tax}}" name="transfer_tax" required
                                                   placeholder="Land Transfer Taxes"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Legal Fees and Professional Fees</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.closing_cost_detail.legal_fee}}" name="legal_fee" required
                                                   placeholder="Fees"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Title Insurance/Search</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.closing_cost_detail.title_insurance}}" name="title_insurance" required
                                                   placeholder="Insurance/Search"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Home Inspection</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.closing_cost_detail.inspection}}" name="inspection" required
                                                   placeholder="Home Inspection"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Appraisal Fee</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.closing_cost_detail.appraisal_fee}}" name="appraisal_fee" required
                                                   placeholder="Appraisal Fee"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Appliances</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.closing_cost_detail.appliances}}" name="appliances" required
                                                   placeholder="Appliances"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Renovation Cost/Referbishment Cost</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.closing_cost_detail.renovation_cost}}" name="renovation_cost" required
                                                   placeholder="Renovation Cost/Referbishment Cost"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% if others_cost %}
                                {% for key, data in others_cost.items %}
                                    {% if forloop.counter == others_cost_len %}
                                        <div class="col-12 other_cost_div_1">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <input type="text" class="form-control" value="{{key}}" name="other_cost" required
                                                               placeholder="Other(Please Specify)"/>
                                                </div>
                                                <div class="col-sm-8" style="padding-top: 7px;">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="other_cost" required
                                                               placeholder="-"/>
                                                    </div>
                                                </div>
                                                <div class="col-sm-1 extra_other_cost_div_1" style="padding-top: 7px;">
                                                    <button class="btn btn-primary add_other_cost" input_name="other_cost" main_class="other_cost_div_" extra_class="extra_other_cost_div_" div_class="2" title="Add other"><i class="fa fa-plus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    {% else %}
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <input type="text" class="form-control" value="{{key}}" name="other_cost" required
                                                               placeholder="Other(Please Specify)"/>
                                                </div>
                                                <div class="col-sm-8" style="padding-top: 7px;">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="other_cost" required
                                                               placeholder="-"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                            <div class="col-12 other_cost_div_1">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <input type="text" class="form-control" value="Other(Please Specify)" name="other_cost" required
                                                   placeholder="Other(Please Specify)"/>
                                    </div>
                                    <div class="col-sm-8" style="padding-top: 7px;">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" name="other_cost" required
                                                   placeholder="-"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-1 extra_other_cost_div_1" style="padding-top: 7px;">
                                        <button class="btn btn-primary add_other_cost" input_name="other_cost" main_class="other_cost_div_" extra_class="extra_other_cost_div_" div_class="2" title="Add other"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h4>Monthly Revenues</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Unit 1</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_revenue.unit_1}}" name="unit_1" required
                                                   placeholder="Unit 1"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% if others_revenue_cost_len %}
                                {% for key, data in others_revenue_cost.items %}
                                    {% if forloop.counter == others_revenue_cost_len %}
                                        <div class="col-12 unit_div_{{forloop.counter|add:1}}">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <label for="fname-icon">{{key}}</label>
                                                </div>
                                                <div class="col-sm-8">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="others_revenue_cost" required
                                                               placeholder="{{key}}"/>
                                                    </div>
                                                </div>
                                                <div class="col-sm-1 extra_unit_div_{{forloop.counter|add:1}}">
                                                    <button class="btn btn-primary add_unit_button" div_class="{{others_revenue_cost_len|add:2}}" title="Add Unit"><i class="fa fa-plus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    {% else %}
                                        <div class="col-12 unit_div_{{forloop.counter|add:1}}">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <label for="fname-icon">{{key}}</label>
                                                </div>
                                                <div class="col-sm-8">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="others_revenue_cost" required
                                                               placeholder="{{key}}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                            <div class="col-12 unit_div_2">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Unit 2</label>
                                    </div>
                                    <div class="col-sm-8">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{data}}" name="others_revenue_cost" required
                                                   placeholder="Unit 2"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-1 extra_unit_div_2">
                                        <button class="btn btn-primary add_unit_button" div_class="3" title="Add Unit"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
<!--                            <div class="col-12">-->
<!--                                <div class="form-group row">-->
<!--                                    <div class="col-sm-3 col-form-label">-->
<!--                                        <h6>Total Monthly Revenue</h6>-->
<!--                                    </div>-->
<!--                                    <div class="col-sm-9">-->
<!--                                        <div class="input-group input-group-merge">-->
<!--                                            <input type="text" class="form-control" name="total_revenue" required-->
<!--                                                   placeholder="Total Monthly Revenue"/>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Annual % Rent Increase Assumption</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_revenue.rent_increase_assumption}}" name="rent_increase_assumption" required
                                                   placeholder="Rent Increase Assumption(%)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h4>Capital Expenditure Budget Details</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Roof</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{roof_obj.0}}" name="roof" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{roof_obj.1}}" name="roof" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Water Heater</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{roof_obj.0}}" name="water_heater" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{roof_obj.0}}" name="water_heater" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">All Appliances</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{all_appliances.0}}" name="all_appliances" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{all_appliances.1}}" name="all_appliances" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Bathroom Fixtures (Showers, Vanities, Toilets etc.)</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{bathroom_fixtures.0}}" name="bathroom" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{bathroom_fixtures.1}}" name="bathroom" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Driveway/Parking Lot</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{drive_way.0}}" name="drive_way" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{drive_way.1}}" name="drive_way" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Furnace</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{furnance.0}}" name="furnace" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{furnance.1}}" name="furnace" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Air Conditioner</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{air_conditioner.0}}" name="air_conditioner" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{air_conditioner.1}}" name="air_conditioner" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Flooring</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{flooring.0}}" name="flooring" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{flooring.1}}" name="flooring" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Plumbing</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{plumbing.0}}" name="plumbing" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{plumbing.1}}"  name="plumbing" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Electrical</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{electrical.0}}" name="electrical" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{electrical.1}}" name="electrical" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Windows</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{windows.0}}" name="windows" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{windows.1}}" name="windows" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Paint</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{paint.0}}" name="paint" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{paint.1}}" name="paint" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Kitchen Cabinets/Counters</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{kitchen.0}}" name="kitchen" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{kitchen.1}}" name="kitchen" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Structure (foundation, framing)</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{structure.0}}" name="structure" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{structure.1}}" name="structure" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Components (garage door, etc.)</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{components.0}}" name="component" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{components.1}}" name="component" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Landscaping</label>
                                    </div>
                                    <div class="col-sm-5">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control budget_cost" value="{{landscaping.0}}" name="landscaping" placeholder="Total Replacement Cost"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control life_span_input" value="{{landscaping.1}}" name="landscaping" placeholder="Lifespan (years)"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12" id="budget_add_div">
                                <button type="button" class="btn btn-primary mr-1 budget_button"  div_class="1"> Add other budget</button>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Total Budget Cost</label>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control total_budget_cost" value="{{property_obj.capex_budget_details.total_budget_cost}}" name="total_budget_cost" readonly/>
                                        </div>
                                    </div>
                                </div>
                            </div>


<!--                            <div class="col-12">-->
<!--                                <div class="form-group row">-->
<!--                                    <div class="col-sm-3 col-form-label">-->
<!--                                        <label for="fname-icon">Kitchen Cabinets/Counters</label>-->
<!--                                    </div>-->
<!--                                    <div class="col-sm-5">-->
<!--                                        <div class="input-group input-group-merge">-->
<!--                                            <input type="text" class="form-control" name="kitchen" placeholder="Total Replacement Cost"/>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                    <div class="col-sm-4">-->
<!--                                        <div class="input-group input-group-merge">-->
<!--                                            <input type="text" class="form-control" name="kitchen" placeholder="Lifespan (years)"/>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h4>Monthly Expenses</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Property Taxes</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.property_tax}}" name="property_tax" required
                                                   placeholder="Property Taxes"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Insurance</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.insurance}}" name="insurance" required
                                                   placeholder="Insurance"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Regular Maintenance</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.maintenance}}" name="maintenance" required
                                                   placeholder="Regular Maintenance"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h6>Utilities</h6>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Water</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.water}}" name="water" required
                                                   placeholder="Water"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Gas</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.gas}}" name="gas" required
                                                   placeholder="Gas"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Electricity</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.electricity}}" name="electricity" required
                                                   placeholder="Electricity"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Water Heater Rental</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.water_heater_rental}}" name="water_heater_rental" required
                                                   placeholder="Water Heater Rental"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% if other_utilities %}
                                {% for key, data in other_utilities.items %}
                                    {% if forloop.counter == other_utilities_len %}
                                        <div class="col-12 other_utility_div_{{forloop.counter}}">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <input type="text" class="form-control" value="{{key}}" name="other_utilities" required
                                                               placeholder="{{key}}"/>
                                                </div>
                                                <div class="col-sm-8" style="padding-top: 7px;">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="other_utilities" required
                                                               placeholder="-"/>
                                                    </div>
                                                </div>
                                                <div class="col-sm-1 extra_other_utility_div_{{forloop.counter}}" style="padding-top: 7px;">
                                                    <button class="btn btn-primary add_other_cost" input_name="other_utilities" main_class="other_utility_div_" extra_class="extra_other_utility_div_" div_class="{{other_utilities_len|add:1 }}" title="Add other"><i class="fa fa-plus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    {% else %}
                                        <div class="col-12 other_utility_div_{{forloop.counter}}">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <input type="text" class="form-control" value="{{key}}" name="other_utilities" required
                                                               placeholder="Other Utility(Please Specify)"/>
                                                </div>
                                                <div class="col-sm-8" style="padding-top: 7px;">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="other_utilities" required
                                                               placeholder="{{data}}"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                            <div class="col-12 other_utility_div_1">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <input type="text" class="form-control" value="Other Utility(Please Specify)" name="other_utilities" required
                                                   placeholder="Other Utility(Please Specify)"/>
                                    </div>
                                    <div class="col-sm-8" style="padding-top: 7px;">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" name="other_utilities" required
                                                   placeholder="-"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-1 extra_other_utility_div_1" style="padding-top: 7px;">
                                        <button class="btn btn-primary add_other_cost" input_name="other_utilities" main_class="other_utility_div_" extra_class="extra_other_utility_div_" div_class="2" title="Add other"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Property Management Fees</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.management_fee}}" name="management_fee" required
                                                   placeholder="Property Management Fees"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Vacancy</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.vacancy}}" name="vacancy" required
                                                   placeholder="Vacancy"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Capital Expenditure Budget</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control capital_expenditure_monthtly" value="{{property_obj.monthly_expenses.capital_expenditure}}" budget_cost_data="" name="capital_expenditure"  required>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% if other_expenses %}
                                {% for key, data in other_expenses.items %}
                                    {% if forloop.counter == other_expenses_len %}
                                        <div class="col-12 other_expenses_div_{{forloop.counter}}">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <input type="text" class="form-control" value="{{key}}" name="other_expenses" required
                                                               placeholder="Other Expenses(Please Specify)"/>
                                                </div>
                                                <div class="col-sm-8" style="padding-top: 7px;">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="other_expenses" required
                                                               placeholder="-"/>
                                                    </div>
                                                </div>
                                                <div class="col-sm-1 extra_other_expenses_div_{{forloop.counter}}" style="padding-top: 7px;">
                                                    <button class="btn btn-primary add_other_cost" input_name="other_expenses" main_class="other_expenses_div_" extra_class="extra_other_expenses_div_" div_class="{{other_expenses_len|add:1 }}" title="Add other"><i class="fa fa-plus"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    {% else %}
                                        <div class="col-12 other_expenses_div_{{forloop.counter}}">
                                            <div class="form-group row">
                                                <div class="col-sm-3 col-form-label">
                                                    <input type="text" class="form-control" value="{{key}}" name="other_expenses" required
                                                               placeholder="Other Expenses(Please Specify)"/>
                                                </div>
                                                <div class="col-sm-8" style="padding-top: 7px;">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="other_expenses" required
                                                               placeholder="-"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                            <div class="col-12 other_expenses_div_1">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <input type="text" class="form-control" value="Other Expenses(Please Specify)" name="other_expenses" required
                                                   placeholder="Other Expenses(Please Specify)"/>
                                    </div>
                                    <div class="col-sm-8" style="padding-top: 7px;">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" name="other_expenses" required
                                                   placeholder="-"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-1 extra_other_expenses_div_1" style="padding-top: 7px;">
                                        <button class="btn btn-primary add_other_cost" input_name="other_expenses" main_class="other_expenses_div_" extra_class="extra_other_expenses_div_" div_class="2" title="Add other"><i class="fa fa-plus"></i></button>
                                    </div>
                                </div>
                            </div>
                            {% endif %}

<!--                            <div class="col-12">-->
<!--                                <div class="form-group row">-->
<!--                                    <div class="col-sm-3 col-form-label">-->
<!--                                        <h6>Total Expenses</h6>-->
<!--                                    </div>-->
<!--                                    <div class="col-sm-9">-->
<!--                                        <div class="input-group input-group-merge">-->
<!--                                            <input type="text" class="form-control" name="total_expenses" required-->
<!--                                                   placeholder="Total Expenses"/>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Annual Expense % Inflation Assumption</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.inflation_assumption}}" name="inflation_assumption" required
                                                   placeholder="Inflation Assumption(%"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <label for="fname-icon">Annual Property Appreciation Assumption</label>
                                    </div>
                                    <div class="col-sm-9">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" value="{{property_obj.monthly_expenses.appreciation_assumption}}" name="appreciation_assumption" required
                                                   placeholder="Appreciation Assumption"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-3 col-form-label">
                                        <h4>Investors Details</h4>
                                    </div>
                                </div>
                            </div>
                            {% if investor_details %}
                                {% for key, data in investor_details.items %}
                                    {% if forloop.counter == investor_details_len %}
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <div class="col-sm-2 col-form-label">
                                                    <label for="fname-icon">Name</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{key}}" name="investor_detail" required
                                                               placeholder="Investor Name"/>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2 col-form-label">
                                                    <label for="fname-icon">Capital Contribution</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="investor_detail" required
                                                               placeholder="Investor Capital Contribution"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12" id="investor_add_div">
                                            <button type="button" class="btn btn-primary mr-1 investor_button" div_class="{{investor_details_len}}"> Add Another Investor</button>
                                        </div>
                                    {% else %}
                                        <div class="col-12">
                                            <div class="form-group row">
                                                <div class="col-sm-2 col-form-label">
                                                    <label for="fname-icon">Name</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{key}}" name="investor_detail" required
                                                               placeholder="Investor Name"/>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2 col-form-label">
                                                    <label for="fname-icon">Capital Contribution</label>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="input-group input-group-merge">
                                                        <input type="text" class="form-control" value="{{data}}" name="investor_detail" required
                                                               placeholder="Investor Capital Contribution"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    {% endif %}
                                {% endfor %}
                            {% else %}
                            <div class="col-12">
                                <div class="form-group row">
                                    <div class="col-sm-2 col-form-label">
                                        <label for="fname-icon">Name</label>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" name="investor_detail" required
                                                   placeholder="Investor Name"/>
                                        </div>
                                    </div>
                                    <div class="col-sm-2 col-form-label">
                                        <label for="fname-icon">Capital Contribution</label>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="input-group input-group-merge">
                                            <input type="text" class="form-control" name="investor_detail" required
                                                   placeholder="Investor Capital Contribution"/>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12" id="investor_add_div">
                                <button type="button" class="btn btn-primary mr-1 investor_button" div_class="1"> Add Another Investor</button>
                            </div>
                            {% endif %}
                            <div class="col-sm-9 offset-sm-3">
                                <button type="submit" class="btn btn-primary mr-1">Update</button>
                                <a href="{% url 'rental_property_list' %}" class="btn btn-outline-secondary">Cancel</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock content%}
